{% extends 'base.html' %}

{% block title %}CardÃ¡pio MÃ¡gico - Expresso Patronum{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="magical-card text-center">
            <h2 style="font-family: 'Cinzel', serif; color: #8B0000; font-size: 2.5rem;">
                ğŸ“œ CardÃ¡pio das PoÃ§Ãµes MÃ¡gicas ğŸ“œ
            </h2>
            <p style="font-size: 1.2rem; color: #3C2415; margin-top: 1rem;">
                Explore nossas bebidas encantadas, cada uma com propriedades mÃ¡gicas Ãºnicas!
            </p>
        </div>
    </div>
</div>

<!-- Filtros MÃ¡gicos -->
<div class="row mt-4">
    <div class="col-12">
        <div class="magical-card">
            <h4 style="font-family: 'Cinzel', serif; color: #3C2415; margin-bottom: 1rem;">
                ğŸ” Filtros de Busca MÃ¡gica
            </h4>
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        <label>Tipo de PoÃ§Ã£o:</label>
                        <select class="form-control" id="filtro-tipo">
                            <option value="">Todas as PoÃ§Ãµes</option>
                            <option value="cafe">â˜• CafÃ©s MÃ¡gicos</option>
                            <option value="cha">ğŸµ ChÃ¡s Encantados</option>
                            <option value="especial">âœ¨ PoÃ§Ãµes Especiais</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label>Casa de Hogwarts:</label>
                        <select class="form-control" id="filtro-casa">
                            <option value="">Todas as Casas</option>
                            <option value="gryffindor">ğŸ¦ GrifinÃ³ria</option>
                            <option value="slytherin">ğŸ Sonserina</option>
                            <option value="ravenclaw">ğŸ¦… Corvinal</option>
                            <option value="hufflepuff">ğŸ¦¡ Lufa-Lufa</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label>PreÃ§o MÃ¡ximo:</label>
                        <select class="form-control" id="filtro-preco">
                            <option value="">Qualquer PreÃ§o</option>
                            <option value="10">AtÃ© R$ 10,00</option>
                            <option value="15">AtÃ© R$ 15,00</option>
                            <option value="20">AtÃ© R$ 20,00</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Menu Grid -->
<div class="menu-grid" id="cardapio-grid">
    <!-- CafÃ©s MÃ¡gicos -->
    <div class="beverage-card" data-tipo="cafe" data-casa="gryffindor" data-preco="12.50">
        <h3>ğŸº Butterbeer Latte</h3>
        <div class="house-gem gryffindor" style="margin: 0.5rem auto;"></div>
        <p style="color: #3C2415;">
            CafÃ© cremoso inspirado na famosa bebida de Hogwarts, com notas de caramelo, 
            especiarias e uma pitada de magia dourada.
        </p>
        <ul class="ingredients-list">
            <li>â˜• Espresso duplo encantado</li>
            <li>ğŸ¥› Leite vaporizado magicamente</li>
            <li>ğŸ¯ Xarope de caramelo mÃ¡gico</li>
            <li>âœ¨ Canela em pÃ³ encantada</li>
        </ul>
        <div class="price">R$ 12,50</div>
        <a href="{% url 'menu:personalizar' 'butterbeer' %}" class="magical-btn">
            âš—ï¸ Personalizar PoÃ§Ã£o
        </a>
    </div>

    <div class="beverage-card" data-tipo="cafe" data-casa="gryffindor" data-preco="8.90">
        <h3>ğŸ¦Œ Patronus Espresso</h3>
        <div class="house-gem gryffindor" style="margin: 0.5rem auto;"></div>
        <p style="color: #3C2415;">
            Um espresso puro e poderoso que desperta sua energia interior, 
            forte o suficiente para conjurar um Patronus.
        </p>
        <ul class="ingredients-list">
            <li>â˜• GrÃ£os selecionados de Hogwarts</li>
            <li>âš¡ ExtraÃ§Ã£o sob pressÃ£o mÃ¡gica</li>
            <li>ğŸ¯ AÃ§Ãºcar cristalizado encantado</li>
        </ul>
        <div class="price">R$ 8,90</div>
        <a href="{% url 'menu:personalizar' 'patronus' %}" class="magical-btn">
            âš¡ Personalizar PoÃ§Ã£o
        </a>
    </div>

    <div class="beverage-card" data-tipo="cafe" data-casa="ravenclaw" data-preco="11.20">
        <h3>ğŸ“š CafÃ© da Biblioteca</h3>
        <div class="house-gem ravenclaw" style="margin: 0.5rem auto;"></div>
        <p style="color: #3C2415;">
            Para estudantes dedicados, um cafÃ© que estimula a mente e a concentraÃ§Ã£o, 
            perfeito para longas sessÃµes de estudo.
        </p>
        <ul class="ingredients-list">
            <li>â˜• Blend especial da Corvinal</li>
            <li>ğŸ§  EssÃªncia de concentraÃ§Ã£o</li>
            <li>ğŸ“– Aroma de pergaminho antigo</li>
        </ul>
        <div class="price">R$ 11,20</div>
        <a href="{% url 'menu:personalizar' 'biblioteca' %}" class="magical-btn">
            ğŸ“š Personalizar PoÃ§Ã£o
        </a>
    </div>

    <!-- ChÃ¡s Encantados -->
    <div class="beverage-card" data-tipo="cha" data-casa="hufflepuff" data-preco="9.80">
        <h3>ğŸ± ChÃ¡ da Prof. McGonagall</h3>
        <div class="house-gem hufflepuff" style="margin: 0.5rem auto;"></div>
        <p style="color: #3C2415;">
            Um chÃ¡ refinado e elegante, com blend de ervas especiais que acalma 
            atÃ© mesmo o coraÃ§Ã£o mais agitado.
        </p>
        <ul class="ingredients-list">
            <li>ğŸµ Blend de ervas escocesas</li>
            <li>ğŸŒ¿ HortelÃ£ do jardim de Hogwarts</li>
            <li>ğŸ¯ Mel encantado das abelhas mÃ¡gicas</li>
            <li>ğŸ‹ LimÃ£o siciliano</li>
        </ul>
        <div class="price">R$ 9,80</div>
        <a href="{% url 'menu:personalizar' 'mcgonagall' %}" class="magical-btn">
            ğŸ© Personalizar PoÃ§Ã£o
        </a>
    </div>

    <div class="beverage-card" data-tipo="cha" data-casa="slytherin" data-preco="13.90">
        <h3>ğŸ PoÃ§Ã£o do Professor Snape</h3>
        <div class="house-gem slytherin" style="margin: 0.5rem auto;"></div>
        <p style="color: #3C2415;">
            Um chÃ¡ misterioso e complexo, com sabores profundos que revelam 
            suas nuances lentamente, como as poÃ§Ãµes mais refinadas.
        </p>
        <ul class="ingredients-list">
            <li>ğŸµ ChÃ¡ preto das masmorras</li>
            <li>ğŸŒ¿ Ervas raras e secretas</li>
            <li>ğŸ”® EssÃªncia de mistÃ©rio</li>
            <li>ğŸ–¤ Um toque de elegÃ¢ncia sombria</li>
        </ul>
        <div class="price">R$ 13,90</div>
        <a href="{% url 'menu:personalizar' 'snape' %}" class="magical-btn">
            ğŸ§ª Personalizar PoÃ§Ã£o
        </a>
    </div>

    <!-- PoÃ§Ãµes Especiais -->
    <div class="beverage-card" data-tipo="especial" data-casa="gryffindor" data-preco="15.50">
        <h3>ğŸ”¥ Firewhiskey Coffee</h3>
        <div class="house-gem gryffindor" style="margin: 0.5rem auto;"></div>
        <p style="color: #3C2415;">
            Uma bebida corajosa para momentos especiais, com um toque picante 
            que aquece o coraÃ§Ã£o e desperta os sentidos.
        </p>
        <ul class="ingredients-list">
            <li>â˜• CafÃ© forte das Highlands</li>
            <li>ğŸ”¥ EssÃªncia de firewhiskey (sem Ã¡lcool)</li>
            <li>ğŸŒ¶ï¸ Pitada de pimenta encantada</li>
            <li>ğŸ¯ Mel dourado de abelhas mÃ¡gicas</li>
        </ul>
        <div class="price">R$ 15,50</div>
        <a href="{% url 'menu:personalizar' 'firewhiskey' %}" class="magical-btn">
            ğŸ”¥ Personalizar PoÃ§Ã£o
        </a>
    </div>

    <div class="beverage-card" data-tipo="especial" data-casa="hufflepuff" data-preco="14.80">
        <h3>ğŸ§š Elixir da Felicidade</h3>
        <div class="house-gem hufflepuff" style="margin: 0.5rem auto;"></div>
        <p style="color: #3C2415;">
            Uma bebida doce e reconfortante que traz alegria instantÃ¢nea, 
            perfeita para momentos que precisam de um pouquinho mais de magia.
        </p>
        <ul class="ingredients-list">
            <li>â˜• CafÃ© doce das fadas</li>
            <li>ğŸ“ Xarope de morango encantado</li>
            <li>ğŸ¥› Chantilly das nuvens</li>
            <li>âœ¨ Polvilho mÃ¡gico dourado</li>
        </ul>
        <div class="price">R$ 14,80</div>
        <a href="{% url 'menu:personalizar' 'felicidade' %}" class="magical-btn">
            ğŸ§š Personalizar PoÃ§Ã£o
        </a>
    </div>
</div>

<!-- Ingredientes Extras -->
<div class="row mt-5">
    <div class="col-12">
        <div class="magical-card">
            <h3 style="font-family: 'Cinzel', serif; color: #8B0000; text-align: center; margin-bottom: 2rem;">
                ğŸ§ª Ingredientes MÃ¡gicos DisponÃ­veis ğŸ§ª
            </h3>
            
            <div class="row">
                <div class="col-md-3 text-center mb-3">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">ğŸ¥›</div>
                    <h6>Leites Encantados</h6>
                    <p style="font-size: 0.9rem;">Leite de aveia, amÃªndoas, coco ou tradicional</p>
                    <span style="color: #D4AF37; font-weight: bold;">+R$ 1,50</span>
                </div>
                <div class="col-md-3 text-center mb-3">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">ğŸ¯</div>
                    <h6>DoÃ§uras MÃ¡gicas</h6>
                    <p style="font-size: 0.9rem;">AÃ§Ãºcar cristal, mel, xarope de agave</p>
                    <span style="color: #D4AF37; font-weight: bold;">+R$ 0,80</span>
                </div>
                <div class="col-md-3 text-center mb-3">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">ğŸŒ¿</div>
                    <h6>Especiarias</h6>
                    <p style="font-size: 0.9rem;">Canela, cardamomo, baunilha, noz-moscada</p>
                    <span style="color: #D4AF37; font-weight: bold;">+R$ 1,00</span>
                </div>
                <div class="col-md-3 text-center mb-3">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">âœ¨</div>
                    <h6>Extras Especiais</h6>
                    <p style="font-size: 0.9rem;">Chantilly, marshmallow, chocolate</p>
                    <span style="color: #D4AF37; font-weight: bold;">+R$ 2,00</span>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Funcionalidade de filtros
    const filtroTipo = document.getElementById('filtro-tipo');
    const filtroCasa = document.getElementById('filtro-casa');
    const filtroPreco = document.getElementById('filtro-preco');
    const cards = document.querySelectorAll('.beverage-card');

    function aplicarFiltros() {
        const tipoSelecionado = filtroTipo.value;
        const casaSelecionada = filtroCasa.value;
        const precoMaximo = parseFloat(filtroPreco.value) || Infinity;

        cards.forEach(card => {
            const tipo = card.dataset.tipo;
            const casa = card.dataset.casa;
            const preco = parseFloat(card.dataset.preco);

            const mostraCard = 
                (tipoSelecionado === '' || tipo === tipoSelecionado) &&
                (casaSelecionada === '' || casa === casaSelecionada) &&
                (preco <= precoMaximo);

            if (mostraCard) {
                card.style.display = 'block';
                card.style.opacity = '1';
                card.style.transform = 'scale(1)';
            } else {
                card.style.opacity = '0';
                card.style.transform = 'scale(0.8)';
                setTimeout(() => {
                    if (card.style.opacity === '0') {
                        card.style.display = 'none';
                    }
                }, 300);
            }
        });
    }

    filtroTipo.addEventListener('change', aplicarFiltros);
    filtroCasa.addEventListener('change', aplicarFiltros);
    filtroPreco.addEventListener('change', aplicarFiltros);

    // AnimaÃ§Ã£o inicial dos cards
    cards.forEach((card, index) => {
        setTimeout(() => {
            card.style.opacity = '1';
            card.style.transform = 'translateY(0)';
        }, index * 100);
        
        card.style.opacity = '0';
        card.style.transform = 'translateY(30px)';
        card.style.transition = 'all 0.4s ease';
    });
});
</script>
{% endblock %}
